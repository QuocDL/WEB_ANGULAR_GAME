<div *ngIf="!product" class="flex items-center justify-center h-screen bg-[#fafafa]">
    <div class="relative">
        <div class="h-24 w-24 rounded-full border-t-8 border-b-8 border-gray-200"></div>
        <div class="absolute top-0 left-0 h-24 w-24 rounded-full border-t-8 border-b-8 border-orange-500 animate-spin">
        </div>
    </div>
</div>

<div *ngIf="product">
    <div class="text-[13px]">
        <a class="font-bold font-sans text-orange-500" routerLink="" href="">TRANG CHỦ</a>
        >>
        <a class="font-bold font-sans text-gray-700" routerLink="" href="">{{product.title | uppercase}}</a>
    </div>
   <div class="mt-[40px]">
        <h1 class="font-bold text-[35px] text-gray-700">GAME {{product.title | uppercase}} - {{product.platform | uppercase}} FULL</h1>
        <div class="Container mt-[15px]">
            <div>
                <div class="hr-bar">
                    <div class="flex z-10 bg-white w-1/3 absolute gap-2 items-center ">
                        <svg xmlns="http://www.w3.org/2000/svg" width="34" viewBox="0 0 24 24" class="fill-gray-700">
                            <path
                                d="M20 2H8c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM8 16V4h12l.002 12H8z">
                            </path>
                            <path d="M4 8H2v12c0 1.103.897 2 2 2h12v-2H4V8z"></path>
                            <path d="m12 12-1-1-2 3h10l-4-6z"></path>
                        </svg>
                        <span class="text-[18px] font-bold text-gray-700">ẢNH GAME {{product.title | uppercase}}</span>
                    </div>
                    <div class="h-1 relative z-0 -bottom-3 w-[100%] bg-orange-500">
                    </div>
                </div>
                <div >
                    <div class="my-[55px]">
                        <img src="{{product.thumbnail}}" width="1080" alt="">
                    </div>
                    <div class="hr-bar">
                        <div class="flex z-10 bg-white w-1/3 absolute gap-2 items-center ">
                        <svg xmlns="http://www.w3.org/2000/svg" width="34" viewBox="0 0 24 24"
                            class="fill-gray-700">
                            <path
                                d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z">
                            </path>
                            <path d="M11 11h2v6h-2zm0-4h2v2h-2z"></path>
                        </svg>
                            <span class="text-[18px] font-bold text-gray-700">CHI TIẾT GAME {{product.title | uppercase}}</span>
                        </div>
                        <div class="h-1 relative z-0 -bottom-3 w-[100%] bg-orange-500">
                        </div>
                    </div>
                    <div class="flex mt-[55px] gap-5">
                        <div class="bg-[#FAFAFA] leading-8 text-[14px] py-4 px-4 shadow-md w-[100%] rounded-md">
                            <span class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                   class="fill-orange-500" >
                                    <path
                                        d="m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z">
                                    </path>
                                    <path
                                        d="M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z">
                                    </path>
                                </svg>
                                <span class="text-gray-700 font-bold">Tên: </span>
                                <span class="font-semibold text-gray-700">{{product.title}}</span>
                            </span>
                            <span class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                               class="fill-orange-500">
                                <path d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"></path>
                                <path
                                    d="M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z">
                                </path>
                            </svg>
                                <span class="text-gray-700 font-bold">Ngày update: </span>
                                <span class="font-semibold text-gray-700">{{product.release_date}}</span>
                            </span>
                            <span class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    class="fill-orange-500">
                                    <path
                                        d="m21.868 11.504-4-7A1 1 0 0 0 17 4H3a1 1 0 0 0-.868 1.496L5.849 12l-3.717 6.504A1 1 0 0 0 3 20h14a1 1 0 0 0 .868-.504l4-7a.998.998 0 0 0 0-.992z">
                                    </path>
                                </svg>
                                <span class="text-gray-700 font-bold">Thể loại: </span>
                                <span class="font-semibold text-gray-700">{{product.genre}}</span>
                            </span>
                            <span class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                               class="fill-orange-500">
                                <path
                                    d="M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z">
                                </path>
                            </svg>
                                <span class="text-gray-700 font-bold">Dung Lượng: </span>
                                <span  class="font-semibold text-gray-700">{{product.system_requirements_medium?.medium?.freedisk || "N/A" | uppercase}}</span>
                            </span>
                            <span class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    class="fill-orange-500">
                                    <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zM4 18V6h16v12z"></path>
                                    <path d="M6 8h2v8H6zm3 0h1v8H9zm8 0h1v8h-1zm-4 0h3v8h-3zm-2 0h1v8h-1z"></path>
                                </svg>
                                <span class="text-gray-700 font-bold">Kích thước RAM: </span>
                                <span  class="font-semibold text-gray-700">{{product.system_requirements_medium?.medium?.ram || "N/A" | uppercase}}</span>
                            </span>
                        </div>
                        <div class="bg-[#FAFAFA] py-4 leading-8 text-[14px] px-8 shadow-md w-[100%] h-full text-gray-700 rounded-lg">
                            <ul class="list-disc">
                                <li class="text-gray-700 font-bold">Nhà phát triển: <span class="font-semibold">{{product.developer}}</span></li>
                                <li class="text-gray-700 font-bold">Nhà phát hành: <span class="font-semibold">{{product.publisher}}</span></li>
                                <li class="text-gray-700 font-bold">Hệ điều hành: <span class="font-semibold">{{product.platform}}</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="hr-bar mt-[25px]">
                    <div class="flex z-10  absolute gap-5 items-center ">
                        <img src="https://seeklogo.com/images/F/fpt-logo-5B8F17203A-seeklogo.com.png" width="50" alt="">
                        <span class="text-[18px] font-bold text-gray-700">MÔ TẢ GAME {{product.title | uppercase}}</span>
                    </div>
                    <div class="h-[3px] relative z-0 -bottom-8 w-[100%] bg-orange-500">
                    </div>
                </div>
                <div class="mt-[55px]">
                    <p>{{product.short_description}}</p>
                </div>
                <div class="hr-bar mt-[25px]">
                    <div class="flex z-10   absolute gap-5 items-center ">
                        <img src="https://seeklogo.com/images/F/fpt-logo-5B8F17203A-seeklogo.com.png" width="50" alt="">
                        <span class="text-[18px] font-bold text-gray-700">TRAILER VÀ SYSTEM REQUIREMENTS CỦA GAME {{product.title | uppercase}}</span>
                    </div>
                    <div class="h-[3px] relative z-0 -bottom-8 w-[100%] bg-orange-500">
                    </div>
                </div>
                <div class="mt-[55px]">
                    <div>
                        <div class="flex justify-between">
                            <button (click)="clickBtn(true)" [ngClass]="{'bg-orange-500':active === true}" class="w-[100%] shadow-lg text-white font-bold rounded-tl-md duration-150 bg-gray-700 py-1"  >VIDEO TRAILER</button>
                            <button (click)="clickBtn(false)" [ngClass]="{'bg-orange-500':active === false}" class="w-[100%] shadow-lg text-white font-bold rounded-tr-md duration-150 bg-gray-700 py-1">SYSTEM REQUIREMENTS</button>                        
                        </div>
                        <div class="bg-[#FAFAFA] shadow-lg p-6">
                            <div *ngIf="active === true">
                                <iframe width="840" height="415" [src]="product.freetogame_profile_url | safe" 
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    allowfullscreen></iframe>
                            </div>
                            <div class="text-gray-700" *ngIf="active === false">
                               <div class="mb-[15px]">
                                <h1 class="font-semibold">{{product.system_requirements_medium?.medium?.System_Play || "N/A" | uppercase}}:</h1>
                                <ul class="list-disc ml-[25px]">
                                    <li><span class="font-medium">Cpu: </span>{{product.system_requirements_medium?.medium?.cpu || "N/A" }}</li>
                                    <li><span class="font-medium">Graphics: </span>{{product.system_requirements_medium?.medium?.card || "N/A" }}</li>
                                    <li><span class="font-medium">Memory: </span>{{product.system_requirements_medium?.medium?.ram || "N/A" }}</li>
                                    <li><span class="font-medium">Graphics memory: </span>{{product.system_requirements_medium?.medium?.card_ram || "N/A" }}</li>
                                    <li><span class="font-medium">os*: </span>{{product.system_requirements_medium?.medium?.os || "N/A" }}</li>
                                </ul>
                               </div>
                               <div>
                                <h1 class="font-semibold">{{product.system_requirements_medium?.playgood?.System_Play | uppercase}}:</h1>
                                <ul class="list-disc ml-[25px]">
                                    <li><span class="font-medium">Cpu: </span>{{product.system_requirements_medium?.playgood?.cpu || "N/A" }}</li>
                                    <li><span class="font-medium">Graphics: </span>{{product.system_requirements_medium?.playgood?.card || "N/A" }}</li>
                                    <li><span class="font-medium">Memory: </span>{{product.system_requirements_medium?.playgood?.ram || "N/A" }}</li>
                                    <li><span class="font-medium">Graphics memory: </span>{{product.system_requirements_medium?.playgood?.card_ram || "N/A" }}</li>
                                    <li><span class="font-medium">os*: </span>{{product.system_requirements_medium?.playgood?.os || "N/A" }}</li>
                                </ul>
                               </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-[100%] mt-[45px] shadow-lg border-y-2 border-orange-500 p-2 rounded-md">
                    <h1 class="flex font-bold items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="44"  viewBox="0 0 24 24"
                            class="fill-gray-700">
                            <path
                                d="M18.948 11.112C18.511 7.67 15.563 5 12.004 5c-2.756 0-5.15 1.611-6.243 4.15-2.148.642-3.757 2.67-3.757 4.85 0 2.757 2.243 5 5 5h1v-2h-1c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.757 2.673-3.016l.581-.102.192-.558C8.153 8.273 9.898 7 12.004 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-2v2h2c2.206 0 4-1.794 4-4a4.008 4.008 0 0 0-3.056-3.888z">
                            </path>
                            <path d="M13.004 14v-4h-2v4h-3l4 5 4-5z"></path>
                        </svg>
                        LINK TẢI GAME {{product.title | uppercase}} 
                    </h1>
                    <div class="py-[35px] flex items-center ">
                        <div class="w-1/2">
                            <span class="ml-[25px] text-gray-700 font-bold">{{product.title}}</span>
                        </div>
                        <div class="px-[55px] py-4 border-dashed flex justify-center items-center border-x-2 border-gray-700">
                            <span class=" text-gray-700 text-[12px] font-bold">{{product.release_date}}</span>
                        </div>
                        <div [ngSwitch]="userState" class="ml-[15px]">
                            <div *ngSwitchCase="true">
                                <a target="_blank" href="{{product.game_url}}" class="text-orange-500 border-[2px] border-orange-500 rounded-md px-2">DOWNLOAD</a>
                            </div>
                            <div *ngSwitchCase="false">
                                <span class="text-orange-500 text-[12px]">Bạn cần đăng nhập để tải game</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="h-screen bg-[#FAFAFA] p-3 shadow-lg rounded-md">
                <div class="flex justify-between">
                    <button class="text-center py-2 text-white font-bold bg-orange-500 w-[100%]">GAME CÙNG THỂ LOẠI</button>
                    <button class="py-2 w-[100%] bg-gray-700 hover:bg-gray-900 text-white font-bold">NEW FEED</button>
                </div>
                <div *ngIf="listProduct">
                    <div class=" py-2" *ngFor=" let products of listProduct | searchPipe: category">
                         <a href="/product/{{products.id}}" class="pb-2 flex gap-5"> 
                            <img src="{{products.thumbnail}}" width="100" alt="">
                            <div>
                                <h1 class="font-bold text-gray-700">{{products.title | uppercase}}</h1>
                                <span class="text-gray-700 flex items-center gap-1">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                       class="fill-gray-700">
                                        <path d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"></path>
                                        <path
                                            d="M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z">
                                        </path>
                                    </svg>
                                   <span class="text-[13px] font-semibold">{{products.release_date}}</span>
                                </span>
                            </div>
                        </a>
                        <div class="bg-gray-700 w-[100%] h-[1px]"></div>
                    </div>
                </div>
            </div>
        </div>
   </div>

</div>